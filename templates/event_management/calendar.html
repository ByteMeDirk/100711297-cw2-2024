{% extends "base.html" %}

{% block content %}
    <link href='https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.2/fullcalendar.min.css' rel='stylesheet'/>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.2/fullcalendar.min.js'></script>

    <h1>Event Calendar</h1>
    <a href="{% url 'add_event' %}" class="btn btn-primary">Add Event</a>
    <a href="{% url 'list_events' %}" class="btn btn-info">My Events</a>
    <hr>
    <div id='calendar'></div>
    <script>
        $(document).ready(function () {
            $('#calendar').fullCalendar({
                events: '{% url "get_events" %}',
                header: {
                    left: 'prev,next today',
                    center: 'title',
                    right: 'month,agendaWeek,agendaDay'
                },
                editable: true,
                eventClick: function (event) {
                    alert('Event: ' + event.title + "\n" + event.description);
                }
            });
        });
    </script>
{% endblock %}